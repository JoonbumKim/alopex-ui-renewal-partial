/*! Alopex UI - v2.3.6.16 - 2016-11-24
* http://ui.alopex.io
* Copyright (c) 2016 alopex.ui; Licensed Copyright. SK C&C. All rights reserved. */
!function(){"use strict";var a=window.AmCharts;a.AmGanttChart=a.Class({inherits:a.AmSerialChart,construct:function(b){var c=this;c.type="gantt",a.AmGanttChart.base.construct.call(c,b),c.cname="AmGanttChart",c.period="ss"},initChart:function(){var b=this;b.dataChanged&&b.processGanttData(),a.AmGanttChart.base.initChart.call(b)},parseData:function(){var b=this;a.AmSerialChart.base.parseData.call(b),b.parseSerialData(b.ganttDataProvider)},processGanttData:function(){var b,c=this;c.graphs=[];var d=c.dataProvider;c.ganttDataProvider=[];var e=c.categoryField,f=c.startField,g=c.endField,h=c.durationField,i=c.startDateField,j=c.endDateField,k=c.colorField,l=a.extractPeriod(c.period),m=l.period,n=l.count,o=a.getDate(c.startDate,c.dataDateFormat,"fff"),p=c.categoryAxis;p.gridPosition="start";var q=c.valueAxis;c.valueAxes=[q];var r;"date"==q.type&&(r=!0),q.minimumDate&&(q.minimumDate=a.getDate(q.minimumDate,s,m)),q.maximumDate&&(q.maximumDate=a.getDate(q.maximumDate,s,m)),isNaN(q.minimum)||(q.minimumDate=a.changeDate(new Date(o),m,q.minimum,!0,!0)),isNaN(q.maximum)||(q.maximumDate=a.changeDate(new Date(o),m,q.maximum,!0,!0));var s=c.dataDateFormat;if(d)for(b=0;b<d.length;b++){var t=d[b],u=t[e],v={};v[e]=u;var w,x=t[c.segmentsField];c.ganttDataProvider.push(v);var y=t[k];if(c.colors[b]||(c.colors[b]=a.randomColor()),x)for(var z=0;z<x.length;z++){var A=x[z],B=A[f],C=A[g],D=A[h];isNaN(B)&&(B=w),isNaN(D)||(C=B+D);var E="start_"+b+"_"+z,F="end_"+b+"_"+z;v[E]=B,v[F]=C;var G,H,I=["lineColor","color","alpha","fillColors","description","bullet","customBullet","bulletSize","bulletConfig","url","labelColor","dashLength","pattern","gap","className"];for(var J in I)G=I[J]+"Field",H=c.graph[G],H&&void 0!==A[H]&&(v[H+"_"+b+"_"+z]=A[H]);if(w=C,r){var K=a.getDate(A[i],s,m),L=a.getDate(A[j],s,m);o&&(isNaN(B)||(K=a.changeDate(new Date(o),m,B*n,!0,!0)),isNaN(C)||(L=a.changeDate(new Date(o),m,C*n,!0,!0))),v[E]=K.getTime(),v[F]=L.getTime()}var M={};a.copyProperties(A,M);var N={};a.copyProperties(c.graph,N,!0);for(J in I)G=I[J]+"Field",c.graph[G]&&(N[G]=I[J]+"_"+b+"_"+z);N.customData=M,N.segmentData=A,N.labelFunction=c.graph.labelFunction,N.balloonFunction=c.graph.balloonFunction,N.customBullet=c.graph.customBullet,N.type="column",N.openField=E,N.valueField=F,N.clustered=!1,A[k]&&(y=A[k]),N.columnWidth=A[c.columnWidthField],void 0===y&&(y=c.colors[b]);var O=c.brightnessStep;O&&(y=a.adjustLuminosity(y,z*O/100)),void 0===c.graph.lineColor&&(N.lineColor=y),void 0===c.graph.fillColors&&(N.fillColors=y),c.graphs.push(N)}}}})}();