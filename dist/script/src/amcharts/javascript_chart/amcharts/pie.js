/*! Alopex UI - v2.3.6.16 - 2016-11-24
* http://ui.alopex.io
* Copyright (c) 2016 alopex.ui; Licensed Copyright. SK C&C. All rights reserved. */
!function(){"use strict";var a=window.AmCharts;a.AmSlicedChart=a.Class({inherits:a.AmChart,construct:function(b){var c=this;c.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),a.AmSlicedChart.base.construct.call(c,b),c.colors=["#FF0F00","#FF6600","#FF9E01","#FCD202","#F8FF01","#B0DE09","#04D215","#0D8ECF","#0D52D1","#2A0CD0","#8A0CCF","#CD0D74","#754DEB","#DDDDDD","#999999","#333333","#000000","#57032A","#CA9726","#990000","#4B0C25"],c.alpha=1,c.groupPercent=0,c.groupedTitle="Other",c.groupedPulled=!1,c.groupedAlpha=1,c.marginLeft=0,c.marginTop=10,c.marginBottom=10,c.marginRight=0,c.hoverAlpha=1,c.outlineColor="#FFFFFF",c.outlineAlpha=0,c.outlineThickness=1,c.startAlpha=0,c.startDuration=1,c.startEffect="bounce",c.sequencedAnimation=!0,c.pullOutDuration=1,c.pullOutEffect="bounce",c.pullOutOnlyOne=!1,c.pullOnHover=!1,c.labelsEnabled=!0,c.labelTickColor="#000000",c.labelTickAlpha=.2,c.hideLabelsPercent=0,c.urlTarget="_self",c.autoMarginOffset=10,c.gradientRatio=[],c.maxLabelWidth=200,c.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",a.applyTheme(c,b,"AmSlicedChart")},initChart:function(){var b=this;a.AmSlicedChart.base.initChart.call(b),b.dataChanged&&(b.parseData(),b.dispatchDataUpdated=!0,b.dataChanged=!1,b.setLegendData(b.chartData)),b.drawChart()},handleLegendEvent:function(a){var b=this,c=a.type,d=a.dataItem,e=b.legend;if(d.wedge&&d){var f=d.hidden,g=a.event;switch(c){case"clickMarker":f||e.switchable||b.clickSlice(d,g);break;case"clickLabel":f||b.clickSlice(d,g,!1);break;case"rollOverItem":f||b.rollOverSlice(d,!1,g);break;case"rollOutItem":f||b.rollOutSlice(d,g);break;case"hideItem":b.hideSlice(d,g);break;case"showItem":b.showSlice(d,g)}}},invalidateVisibility:function(){var a=this;a.recalculatePercents(),a.initChart();var b=a.legend;b&&b.invalidateSize()},addEventListeners:function(a,b){var c=this;a.mouseover(function(a){c.rollOverSlice(b,!0,a)}).mouseout(function(a){c.rollOutSlice(b,a)}).touchend(function(a){c.rollOverSlice(b,a)}).mouseup(function(a){c.clickSlice(b,a)}).contextmenu(function(a){c.handleRightClick(b,a)})},formatString:function(b,c,d){var e=this;b=a.formatValue(b,c,["value"],e.nf,"",e.usePrefixes,e.prefixesOfSmallNumbers,e.prefixesOfBigNumbers);var f=e.pf.precision;return isNaN(e.tempPrec)||(e.pf.precision=e.tempPrec),b=a.formatValue(b,c,["percents"],e.pf),b=a.massReplace(b,{"[[title]]":c.title,"[[description]]":c.description}),e.pf.precision=f,-1!=b.indexOf("[[")&&(b=a.formatDataContextValue(b,c.dataContext)),b=d?a.fixNewLines(b):a.fixBrakes(b),b=a.cleanFromEmpty(b)},startSlices:function(){var a,b=this;for(a=0;a<b.chartData.length;a++)b.startDuration>0&&b.sequencedAnimation?b.setStartTO(a):b.startSlice(b.chartData[a])},setStartTO:function(a){var b=this,c=b.startDuration/b.chartData.length*500,d=setTimeout(function(){b.startSequenced.call(b)},c*a);b.timeOuts.push(d)},pullSlices:function(a){var b,c=this,d=c.chartData;for(b=0;b<d.length;b++){var e=d[b];e.pulled&&c.pullSlice(e,1,a)}},startSequenced:function(){var a,b=this,c=b.chartData;for(a=0;a<c.length;a++)if(!c[a].started){var d=b.chartData[a];b.startSlice(d);break}},startSlice:function(a){var b=this;a.started=!0;var c=a.wedge,d=b.startDuration,e=a.labelSet;c&&d>0&&(a.alpha>0&&c.show(),c.translate(a.startX,a.startY),b.animatable.push(c),c.animate({opacity:1,translate:"0,0"},d,b.startEffect)),e&&d>0&&(a.alpha>0&&e.show(),e.translate(a.startX,a.startY),e.animate({opacity:1,translate:"0,0"},d,b.startEffect))},showLabels:function(){var a,b=this,c=b.chartData;for(a=0;a<c.length;a++){var d=c[a];if(d.alpha>0){var e=d.label;e&&e.show();var f=d.tick;f&&f.show()}}},showSlice:function(a){var b=this;isNaN(a)?a.hidden=!1:b.chartData[a].hidden=!1,b.invalidateVisibility()},hideSlice:function(a){var b=this;isNaN(a)?a.hidden=!0:b.chartData[a].hidden=!0,b.hideBalloon(),b.invalidateVisibility()},rollOverSlice:function(b,c,d){var e=this;if(isNaN(b)||(b=e.chartData[b]),clearTimeout(e.hoverInt),!b.hidden){if(e.pullOnHover&&e.pullSlice(b,1),e.hoverAlpha<1){var f=b.wedge;f&&b.wedge.attr({opacity:e.hoverAlpha})}var g=b.balloonX,h=b.balloonY;b.pulled&&(g+=b.pullX,h+=b.pullY);var i=e.formatString(e.balloonText,b,!0),j=e.balloonFunction;j&&(i=j(b,i));var k=a.adjustLuminosity(b.color,-.15);i?e.showBalloon(i,k,c,g,h):e.hideBalloon(),0===b.value&&e.hideBalloon();var l={type:"rollOverSlice",dataItem:b,chart:e,event:d};e.fire(l)}},rollOutSlice:function(a,b){var c=this;isNaN(a)||(a=c.chartData[a]);var d=a.wedge;d&&a.wedge.attr({opacity:1}),c.hideBalloon();var e={type:"rollOutSlice",dataItem:a,chart:c,event:b};c.fire(e)},clickSlice:function(b,c,d){var e=this;if(e.checkTouchDuration(c)&&(isNaN(b)||(b=e.chartData[b]),b.pulled?e.pullSlice(b,0):e.pullSlice(b,1),a.getURL(b.url,e.urlTarget),!d)){var f={type:"clickSlice",dataItem:b,chart:e,event:c};e.fire(f)}},handleRightClick:function(a,b){var c=this;isNaN(a)||(a=c.chartData[a]);var d={type:"rightClickSlice",dataItem:a,chart:c,event:b};c.fire(d)},drawTicks:function(){var b,c=this,d=c.chartData;for(b=0;b<d.length;b++){var e=d[b],f=e.label;if(f&&!e.skipTick){var g=e.tx0,h=e.ty0,i=e.tx,j=e.tx2,k=e.ty,l=a.line(c.container,[g,i,j],[h,k,k],c.labelTickColor,c.labelTickAlpha);a.setCN(c,l,c.type+"-tick"),a.setCN(c,l,e.className,!0),e.tick=l,e.wedge.push(l)}}},initialStart:function(){var a=this,b=a.startDuration,c=setTimeout(function(){a.showLabels.call(a)},1e3*b);if(a.timeOuts.push(c),a.chartCreated)a.pullSlices(!0);else if(a.startSlices(),b>0){var d=setTimeout(function(){a.pullSlices.call(a)},1200*b);a.timeOuts.push(d)}else a.pullSlices(!0)},pullSlice:function(a,b,c){var d=this,e=d.pullOutDuration;c===!0&&(e=0);var f=a.wedge;f&&(e>0?(f.animate({translate:b*a.pullX+","+b*a.pullY},e,d.pullOutEffect),a.labelSet&&a.labelSet.animate({translate:b*a.pullX+","+b*a.pullY},e,d.pullOutEffect)):(a.labelSet&&a.labelSet.translate(b*a.pullX,b*a.pullY),f.translate(b*a.pullX,b*a.pullY)));var g;1==b?(a.pulled=!0,d.pullOutOnlyOne&&d.pullInAll(a.index),g={type:"pullOutSlice",dataItem:a,chart:d}):(a.pulled=!1,g={type:"pullInSlice",dataItem:a,chart:d}),d.fire(g)},pullInAll:function(a){var b,c=this,d=c.chartData;for(b=0;b<c.chartData.length;b++)b!=a&&d[b].pulled&&c.pullSlice(d[b],0)},pullOutAll:function(){var a,b=this,c=b.chartData;for(a=0;a<c.length;a++)c[a].pulled||b.pullSlice(c[a],1)},parseData:function(){var b=this,c=[];b.chartData=c;var d=b.dataProvider;if(isNaN(b.pieAlpha)||(b.alpha=b.pieAlpha),void 0!==d){var e,f,g,h=d.length,i=0;for(e=0;h>e;e++){f={};var j=d[e];f.dataContext=j;var k=j[b.valueField];null!==k&&(f.value=Number(j[b.valueField]));var l=j[b.titleField];l||(l=""),f.title=l,f.pulled=a.toBoolean(j[b.pulledField],!1);var m=j[b.descriptionField];m||(m=""),f.description=m,f.labelRadius=Number(j[b.labelRadiusField]),f.switchable=!0,f.className=j[b.classNameField],f.url=j[b.urlField];var n=j[b.patternField];!n&&b.patterns&&(n=b.patterns[e]),f.pattern=n,f.visibleInLegend=a.toBoolean(j[b.visibleInLegendField],!0);var o=j[b.alphaField];void 0!==o?f.alpha=Number(o):f.alpha=b.alpha,g=j[b.colorField],void 0!==g&&(f.color=g),f.labelColor=a.toColor(j[b.labelColorField]),i+=f.value,f.hidden=!1,c[e]=f}var p=0;for(e=0;h>e;e++)f=c[e],f.percents=f.value/i*100,f.percents<b.groupPercent&&p++;if(p>1){b.groupValue=0,b.removeSmallSlices();var q=b.groupValue,r=b.groupValue/i*100;c.push({title:b.groupedTitle,value:q,percents:r,pulled:b.groupedPulled,color:b.groupedColor,url:b.groupedUrl,description:b.groupedDescription,alpha:b.groupedAlpha,pattern:b.groupedPattern,className:b.groupedClassName,dataContext:{}})}var s=b.baseColor;s||(s=b.pieBaseColor);var t=b.brightnessStep;for(t||(t=b.pieBrightnessStep),e=0;e<c.length;e++)s?g=a.adjustLuminosity(s,e*t/100):(g=b.colors[e],void 0===g&&(g=a.randomColor())),void 0===c[e].color&&(c[e].color=g);b.recalculatePercents()}},recalculatePercents:function(){var a,b,c=this,d=c.chartData,e=0;for(a=0;a<d.length;a++)b=d[a],!b.hidden&&b.value>0&&(e+=b.value);for(a=0;a<d.length;a++)b=c.chartData[a],!b.hidden&&b.value>0?b.percents=100*b.value/e:b.percents=0},removeSmallSlices:function(){var a,b=this,c=b.chartData;for(a=c.length-1;a>=0;a--)c[a].percents<b.groupPercent&&(b.groupValue+=c[a].value,c.splice(a,1))},animateAgain:function(){var a=this;a.startSlices();for(var b=0;b<a.chartData.length;b++){var c=a.chartData[b];c.started=!1;var d=c.wedge;d&&(d.setAttr("opacity",a.startAlpha),d.translate(c.startX,c.startY));var e=c.labelSet;e&&(e.setAttr("opacity",a.startAlpha),e.translate(c.startX,c.startY))}var f=a.startDuration;if(f>0){var g=setTimeout(function(){a.pullSlices.call(a)},1200*f);a.timeOuts.push(g)}else a.pullSlices()},measureMaxLabel:function(){var b,c=this,d=c.chartData,e=0;for(b=0;b<d.length;b++){var f=d[b],g=c.formatString(c.labelText,f),h=c.labelFunction;h&&(g=h(f,g));var i=a.text(c.container,g,c.color,c.fontFamily,c.fontSize),j=i.getBBox().width;j>e&&(e=j),i.remove()}return e}})}(),function(){"use strict";var a=window.AmCharts;a.AmPieChart=a.Class({inherits:a.AmSlicedChart,construct:function(b){var c=this;c.type="pie",a.AmPieChart.base.construct.call(c,b),c.cname="AmPieChart",c.pieBrightnessStep=30,c.minRadius=10,c.depth3D=0,c.startAngle=90,c.innerRadius=0,c.angle=0,c.startRadius="500%",c.pullOutRadius="20%",c.labelRadius=20,c.labelText="[[title]]: [[percents]]%",c.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",c.previousScale=1,c.adjustPrecision=!1,c.gradientType="radial",a.applyTheme(c,b,c.cname)},drawChart:function(){var b=this;a.AmPieChart.base.drawChart.call(b);var c=b.chartData;if(a.ifArray(c)){if(b.realWidth>0&&b.realHeight>0){a.VML&&(b.startAlpha=1);var d=b.startDuration,e=b.container,f=b.updateWidth();b.realWidth=f;var g=b.updateHeight();b.realHeight=g;var h,i,j,k=a.toCoordinate,l=k(b.marginLeft,f),m=k(b.marginRight,f),n=k(b.marginTop,g)+b.getTitleHeight(),o=k(b.marginBottom,g)+b.depth3D,p=a.toNumber(b.labelRadius),q=b.measureMaxLabel();q>b.maxLabelWidth&&(q=b.maxLabelWidth);var r;if(b.labelText&&b.labelsEnabled||(q=0,p=0),h=void 0===b.pieX?(f-l-m)/2+l:k(b.pieX,b.realWidth),i=void 0===b.pieY?(g-n-o)/2+n:k(b.pieY,g),j=k(b.radius,f,g),!j){var s;s=p>=0?f-l-m-2*q:f-l-m;var t=g-n-o;j=Math.min(s,t),s>t&&(j/=1-b.angle/90,j>s&&(j=s)),r=a.toCoordinate(b.pullOutRadius,j),j-=p>=0?1.8*(p+r):1.8*r,j/=2}j<b.minRadius&&(j=b.minRadius),r=k(b.pullOutRadius,j);var u=a.toCoordinate(b.startRadius,j),v=k(b.innerRadius,j);v>=j&&(v=j-1);var w=a.fitToBounds(b.startAngle,0,360);b.depth3D>0&&(w=w>=270?270:90),w-=90,w>360&&(w-=360);var x,y,z=j-j*b.angle/90,A=0;for(x=0;x<c.length;x++)y=c[x],y.hidden!==!0&&(A+=a.roundTo(y.percents,b.pf.precision));A=a.roundTo(A,b.pf.precision),b.tempPrec=NaN,b.adjustPrecision&&100!=A&&(b.tempPrec=b.pf.precision+1);var B;for(x=0;x<c.length;x++)if(y=c[x],y.hidden!==!0)if(b.showZeroSlices||0!==y.percents){var C=360*y.percents/100,D=Math.sin((w+C/2)/180*Math.PI),E=-Math.cos((w+C/2)/180*Math.PI)*(z/j),F=b.outlineColor;F||(F=y.color);var G=b.alpha;isNaN(y.alpha)||(G=y.alpha);var H={fill:y.color,stroke:F,"stroke-width":b.outlineThickness,"stroke-opacity":b.outlineAlpha,"fill-opacity":G};y.url&&(H.cursor="pointer");var I=h,J=i,K=a.wedge(e,I,J,w,C,j,z,v,b.depth3D,H,b.gradientRatio,y.pattern,b.path,b.gradientType);a.setCN(b,K,"pie-item"),a.setCN(b,K.wedge,"pie-slice"),a.setCN(b,K,y.className,!0),b.addEventListeners(K,y),y.startAngle=w,c[x].wedge=K,d>0&&(b.chartCreated||K.setAttr("opacity",b.startAlpha)),y.ix=D,y.iy=E,y.wedge=K,y.index=x,y.label=null;var L=e.set();if(b.labelsEnabled&&b.labelText&&y.percents>=b.hideLabelsPercent){var M=w+C/2;0>M&&(M+=360),M>360&&(M-=360);var N=p;isNaN(y.labelRadius)||(N=y.labelRadius,0>N&&(y.skipTick=!0));var O,P=h+D*(j+N),Q=i+E*(j+N),R=0;if(isNaN(B)&&M>350&&c.length-x>1&&(B=x-1+Math.floor((c.length-x)/2)),N>=0){var S;90>=M&&M>=0?(S=0,O="start",R=8):M>=90&&180>M?(S=1,O="start",R=8):M>=180&&270>M?(S=2,O="end",R=-8):M>=270&&354>=M?(S=3,O="end",R=-8):M>=354&&(x>B?(S=0,O="start",R=8):(S=3,O="end",R=-8)),y.labelQuarter=S}else O="middle";var T=b.formatString(b.labelText,y),U=b.labelFunction;U&&(T=U(y,T));var V=y.labelColor;if(V||(V=b.color),""!==T){var W=a.wrappedText(e,T,V,b.fontFamily,b.fontSize,O,!1,b.maxLabelWidth);a.setCN(b,W,"pie-label"),a.setCN(b,W,y.className,!0),W.translate(P+1.5*R,Q),W.node.style.pointerEvents="none",y.ty=Q,y.textX=P+1.5*R,L.push(W),b.axesSet.push(L),y.labelSet=L,y.label=W}y.tx=P,y.tx2=P+R,y.tx0=h+D*j,y.ty0=i+E*j}var X=v+(j-v)/2;if(y.pulled&&(X+=r),b.accessible&&b.accessibleLabel){var Y=b.formatString(b.accessibleLabel,y);b.makeAccessible(K,Y)}void 0!==b.tabIndex&&K.setAttr("tabindex",b.tabIndex),y.balloonX=D*X+h,y.balloonY=E*X+i,y.startX=Math.round(D*u),y.startY=Math.round(E*u),y.pullX=Math.round(D*r),y.pullY=Math.round(E*r),b.graphsSet.push(K),(0===y.alpha||d>0&&!b.chartCreated)&&(K.hide(),L&&L.hide()),w+=360*y.percents/100,w>360&&(w-=360)}else;p>0&&b.arrangeLabels(),b.pieXReal=h,b.pieYReal=i,b.radiusReal=j,b.innerRadiusReal=v,p>0&&b.drawTicks(),b.initialStart(),b.setDepths()}var Z=b.legend;Z&&Z.invalidateSize()}else b.cleanChart();b.dispDUpd()},setDepths:function(){var a,b=this.chartData;for(a=0;a<b.length;a++){var c=b[a],d=c.wedge,e=c.startAngle;e>=0&&180>e?d.toFront():e>=180&&d.toBack()}},arrangeLabels:function(){var a,b,c=this,d=c.chartData,e=d.length;for(b=e-1;b>=0;b--)a=d[b],0!==a.labelQuarter||a.hidden||c.checkOverlapping(b,a,0,!0,0);for(b=0;e>b;b++)a=d[b],1!=a.labelQuarter||a.hidden||c.checkOverlapping(b,a,1,!1,0);for(b=e-1;b>=0;b--)a=d[b],2!=a.labelQuarter||a.hidden||c.checkOverlapping(b,a,2,!0,0);for(b=0;e>b;b++)a=d[b],3!=a.labelQuarter||a.hidden||c.checkOverlapping(b,a,3,!1,0)},checkOverlapping:function(a,b,c,d,e){var f,g,h=this,i=h.chartData,j=i.length,k=b.label;if(k){if(d===!0)for(g=a+1;j>g;g++)i[g].labelQuarter==c&&(f=h.checkOverlappingReal(b,i[g],c),f&&(g=j));else for(g=a-1;g>=0;g--)i[g].labelQuarter==c&&(f=h.checkOverlappingReal(b,i[g],c),f&&(g=0));if(f===!0&&200>e&&isNaN(b.labelRadius)){var l=b.ty+3*b.iy;b.ty=l,k.translate(b.textX,l),h.checkOverlapping(a,b,c,d,e+1)}}},checkOverlappingReal:function(b,c,d){var e=!1,f=b.label,g=c.label;if(b.labelQuarter==d&&!b.hidden&&!c.hidden&&g){var h=f.getBBox(),i={};i.width=h.width,i.height=h.height,i.y=b.ty,i.x=b.tx;var j=g.getBBox(),k={};k.width=j.width,k.height=j.height,k.y=c.ty,k.x=c.tx,a.hitTest(i,k)&&(e=!0)}return e}})}();