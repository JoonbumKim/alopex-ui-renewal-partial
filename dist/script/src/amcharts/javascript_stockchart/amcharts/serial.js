/*! Alopex UI - v2.3.6.16 - 2016-11-24
* http://ui.alopex.io
* Copyright (c) 2016 alopex.ui; Licensed Copyright. SK C&C. All rights reserved. */
!function(){"use strict";var a=window.AmCharts;a.AmRectangularChart=a.Class({inherits:a.AmCoordinateChart,construct:function(b){var c=this;a.AmRectangularChart.base.construct.call(c,b),c.theme=b,c.createEvents("zoomed","changed"),c.marginLeft=20,c.marginTop=20,c.marginBottom=20,c.marginRight=20,c.angle=0,c.depth3D=0,c.plotAreaFillColors="#FFFFFF",c.plotAreaFillAlphas=0,c.plotAreaBorderColor="#000000",c.plotAreaBorderAlpha=0,c.maxZoomFactor=20,c.zoomOutButtonImageSize=19,c.zoomOutButtonImage="lens",c.zoomOutText="Show all",c.zoomOutButtonColor="#e5e5e5",c.zoomOutButtonAlpha=0,c.zoomOutButtonRollOverAlpha=1,c.zoomOutButtonPadding=8,c.trendLines=[],c.autoMargins=!0,c.marginsUpdated=!1,c.autoMarginOffset=10,a.applyTheme(c,b,"AmRectangularChart")},initChart:function(){var b=this;a.AmRectangularChart.base.initChart.call(b),b.updateDxy(),!b.marginsUpdated&&b.autoMargins&&(b.resetMargins(),b.drawGraphs=!1),b.processScrollbars(),b.updateMargins(),b.updatePlotArea(),b.updateScrollbars(),b.updateTrendLines(),b.updateChartCursor(),b.updateValueAxes(),b.scrollbarOnly||b.updateGraphs()},drawChart:function(){var b=this;a.AmRectangularChart.base.drawChart.call(b),b.drawPlotArea();var c=b.chartData;if(a.ifArray(c)){var d=b.chartCursor;d&&d.draw()}},resetMargins:function(){var a,b=this,c={};if("xy"==b.type){var d=b.xAxes,e=b.yAxes;for(a=0;a<d.length;a++){var f=d[a];f.ignoreAxisWidth||(f.setOrientation(!0),f.fixAxisPosition(),c[f.position]=!0)}for(a=0;a<e.length;a++){var g=e[a];g.ignoreAxisWidth||(g.setOrientation(!1),g.fixAxisPosition(),c[g.position]=!0)}}else{var h=b.valueAxes;for(a=0;a<h.length;a++){var i=h[a];i.ignoreAxisWidth||(i.setOrientation(b.rotate),i.fixAxisPosition(),c[i.position]=!0)}var j=b.categoryAxis;j&&(j.ignoreAxisWidth||(j.setOrientation(!b.rotate),j.fixAxisPosition(),j.fixAxisPosition(),c[j.position]=!0))}c.left&&(b.marginLeft=0),c.right&&(b.marginRight=0),c.top&&(b.marginTop=0),c.bottom&&(b.marginBottom=0),b.fixMargins=c},measureMargins:function(){var a,b,c=this,d=c.valueAxes,e=c.autoMarginOffset,f=c.fixMargins,g=c.realWidth,h=c.realHeight,i=e,j=e,k=g,l=h;for(b=0;b<d.length;b++)d[b].handleSynchronization(),a=c.getAxisBounds(d[b],i,k,j,l),i=Math.round(a.l),k=Math.round(a.r),j=Math.round(a.t),l=Math.round(a.b);var m=c.categoryAxis;m&&(a=c.getAxisBounds(m,i,k,j,l),i=Math.round(a.l),k=Math.round(a.r),j=Math.round(a.t),l=Math.round(a.b)),f.left&&e>i&&(c.marginLeft=Math.round(-i+e),isNaN(c.minMarginLeft)||c.marginLeft<c.minMarginLeft&&(c.marginLeft=c.minMarginLeft)),f.right&&k>=g-e&&(c.marginRight=Math.round(k-g+e),isNaN(c.minMarginRight)||c.marginRight<c.minMarginRight&&(c.marginRight=c.minMarginRight)),f.top&&j<e+c.titleHeight&&(c.marginTop=Math.round(c.marginTop-j+e+c.titleHeight),isNaN(c.minMarginTop)||c.marginTop<c.minMarginTop&&(c.marginTop=c.minMarginTop)),f.bottom&&l>h-e&&(c.marginBottom=Math.round(c.marginBottom+l-h+e),isNaN(c.minMarginBottom)||c.marginBottom<c.minMarginBottom&&(c.marginBottom=c.minMarginBottom)),c.initChart()},getAxisBounds:function(a,b,c,d,e){var f,g;if(!a.ignoreAxisWidth){var h=a.labelsSet,i=a.tickLength;if(a.inside&&(i=0),h){var j=a.getBBox();switch(a.position){case"top":g=j.y,d>g&&(d=g);break;case"bottom":g=j.y+j.height,g>e&&(e=g);break;case"right":f=j.x+j.width+i+3,f>c&&(c=f);break;case"left":f=j.x-i,b>f&&(b=f)}}}return{l:b,t:d,r:c,b:e}},drawZoomOutButton:function(){var b=this;if(!b.zbSet){var c=b.container.set();b.zoomButtonSet.push(c);var d=b.color,e=b.fontSize,f=b.zoomOutButtonImageSize,g=b.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),h=a.lang.zoomOutText||b.zoomOutText,i=b.zoomOutButtonColor,j=b.zoomOutButtonAlpha,k=b.zoomOutButtonFontSize,l=b.zoomOutButtonPadding;isNaN(k)||(e=k);var m=b.zoomOutButtonFontColor;m&&(d=m);var n,o=b.zoomOutButton;o&&(o.fontSize&&(e=o.fontSize),o.color&&(d=o.color),o.backgroundColor&&(i=o.backgroundColor),isNaN(o.backgroundAlpha)||(b.zoomOutButtonRollOverAlpha=o.backgroundAlpha));var p=0,q=0,r=b.pathToImages;if(g){(a.isAbsolute(g)||void 0===r)&&(r="");var s=b.container.image(r+g+b.extension,0,0,f,f);a.setCN(b,s,"zoom-out-image"),c.push(s),n=s.getBBox(),p=n.width+5}if(void 0!==h){var t=a.text(b.container,h,d,b.fontFamily,e,"start");a.setCN(b,t,"zoom-out-label");var u=t.getBBox();q=n?n.height/2-3:u.height/2,t.translate(p,q),c.push(t)}n=c.getBBox();var v=1;a.isModern||(v=0);var w=a.rect(b.container,n.width+2*l+5,n.height+2*l-2,i,1,1,i,v);w.setAttr("opacity",j),w.translate(-l,-l),a.setCN(b,w,"zoom-out-bg"),c.push(w),w.toBack(),b.zbBG=w,n=w.getBBox(),c.translate(b.marginLeftReal+b.plotAreaWidth-n.width+l,b.marginTopReal+l),c.hide(),c.mouseover(function(){b.rollOverZB()}).mouseout(function(){b.rollOutZB()}).click(function(){b.clickZB()}).touchstart(function(){b.rollOverZB()}).touchend(function(){b.rollOutZB(),b.clickZB()});var x;for(x=0;x<c.length;x++)c[x].attr({cursor:"pointer"});void 0!==b.zoomOutButtonTabIndex&&(c.setAttr("tabindex",b.zoomOutButtonTabIndex),c.setAttr("role","menuitem"),c.keyup(function(a){13==a.keyCode&&b.clickZB()})),b.zbSet=c}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){var a=this;a.zoomOutValueAxes()},drawPlotArea:function(){var b=this,c=b.dx,d=b.dy,e=b.marginLeftReal,f=b.marginTopReal,g=b.plotAreaWidth-1,h=b.plotAreaHeight-1,i=b.plotAreaFillColors,j=b.plotAreaFillAlphas,k=b.plotAreaBorderColor,l=b.plotAreaBorderAlpha;"object"==typeof j&&(j=j[0]);var m=a.polygon(b.container,[0,g,g,0,0],[0,0,h,h,0],i,j,1,k,l,b.plotAreaGradientAngle);if(a.setCN(b,m,"plot-area"),m.translate(e+c,f+d),b.set.push(m),0!==c&&0!==d){i=b.plotAreaFillColors,"object"==typeof i&&(i=i[0]),i=a.adjustLuminosity(i,-.15);var n=a.polygon(b.container,[0,c,g+c,g,0],[0,d,d,0,0],i,j,1,k,l);a.setCN(b,n,"plot-area-bottom"),n.translate(e,f+h),b.set.push(n);var o=a.polygon(b.container,[0,0,c,c,0],[0,h,h+d,d,0],i,j,1,k,l);a.setCN(b,o,"plot-area-left"),o.translate(e,f),b.set.push(o)}var p=b.bbset;p&&b.scrollbarOnly&&p.remove()},updatePlotArea:function(){var a=this,b=a.updateWidth(),c=a.updateHeight(),d=a.container;a.realWidth=b,a.realWidth=c,d&&a.container.setSize(b,c);var e=a.dx,f=a.marginLeftReal,g=a.marginTopReal,h=b-f-a.marginRightReal-e,i=c-g-a.marginBottomReal;1>h&&(h=1),1>i&&(i=1),a.plotAreaWidth=Math.round(h),a.plotAreaHeight=Math.round(i),a.plotBalloonsSet.translate(f,g)},updateDxy:function(){var a=this;a.dx=Math.round(a.depth3D*Math.cos(a.angle*Math.PI/180)),a.dy=Math.round(-a.depth3D*Math.sin(a.angle*Math.PI/180)),a.d3x=Math.round(a.columnSpacing3D*Math.cos(a.angle*Math.PI/180)),a.d3y=Math.round(-a.columnSpacing3D*Math.sin(a.angle*Math.PI/180))},updateMargins:function(){var a=this,b=a.getTitleHeight();a.titleHeight=b,a.marginTopReal=a.marginTop-a.dy,a.fixMargins&&(a.fixMargins.top||(a.marginTopReal+=b)),a.marginBottomReal=a.marginBottom,a.marginLeftReal=a.marginLeft,a.marginRightReal=a.marginRight},updateValueAxes:function(){var a,b=this,c=b.valueAxes;for(a=0;a<c.length;a++){var d=c[a];b.setAxisRenderers(d),b.updateObjectSize(d)}},setAxisRenderers:function(b){b.axisRenderer=a.RecAxis,b.guideFillRenderer=a.RecFill,b.axisItemRenderer=a.RecItem,b.marginsChanged=!0},updateGraphs:function(){var a,b=this,c=b.graphs;for(a=0;a<c.length;a++){var d=c[a];d.index=a,d.rotate=b.rotate,b.updateObjectSize(d)}},updateObjectSize:function(a){var b=this;a.width=b.plotAreaWidth-1,a.height=b.plotAreaHeight-1,a.x=b.marginLeftReal,a.y=b.marginTopReal,a.dx=b.dx,a.dy=b.dy},updateChartCursor:function(){var b=this,c=b.chartCursor;c&&(c=a.processObject(c,a.ChartCursor,b.theme),b.updateObjectSize(c),b.addChartCursor(c),c.chart=this)},processScrollbars:function(){var b=this,c=b.chartScrollbar;c&&(c=a.processObject(c,a.ChartScrollbar,b.theme),b.addChartScrollbar(c))},updateScrollbars:function(){},removeChartCursor:function(){var b=this;a.callMethod("destroy",[b.chartCursor]),b.chartCursor=null},zoomTrendLines:function(){var a,b=this,c=b.trendLines;for(a=0;a<c.length;a++){var d=c[a];d.valueAxis.recalculateToPercents?d.set&&d.set.hide():(d.x=b.marginLeftReal,d.y=b.marginTopReal,d.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(a){this.trendLines.push(a)},zoomOutValueAxes:function(){for(var a=this,b=a.valueAxes,c=0;c<b.length;c++)b[c].zoomOut()},removeTrendLine:function(a){var b,c=this.trendLines;for(b=c.length-1;b>=0;b--)c[b]==a&&c.splice(b,1)},adjustMargins:function(a,b){var c=this,d=a.position,e=a.scrollbarHeight+a.offset;a.enabled&&("top"==d?b?c.marginLeftReal+=e:c.marginTopReal+=e:b?c.marginRightReal+=e:c.marginBottomReal+=e)},getScrollbarPosition:function(a,b,c){var d,e="bottom",f="top";a.oppositeAxis||(f=e,e="top"),d=b?"bottom"==c||"left"==c?e:f:"top"==c||"right"==c?e:f,a.position=d},updateChartScrollbar:function(a,b){var c=this;if(a){a.rotate=b;var d=a.position,e=c.marginTopReal,f=c.marginLeftReal,g=a.scrollbarHeight,h=c.dx,i=c.dy,j=a.offset;"top"==d?b?(a.y=e,a.x=f-g-j):(a.y=e-g+i-j,a.x=f+h):b?(a.y=e+i,a.x=f+c.plotAreaWidth+h+j):(a.y=e+c.plotAreaHeight+j,a.x=c.marginLeftReal)}},showZB:function(a){var b=this,c=b.zbSet;if(a){var d=b.zoomOutText;""!==d&&d&&b.drawZoomOutButton()}c=b.zbSet,c&&(b.zoomButtonSet.push(c),a?c.show():c.hide(),b.rollOutZB())},handleReleaseOutside:function(b){var c=this;a.AmRectangularChart.base.handleReleaseOutside.call(c,b);var d=c.chartCursor;d&&d.handleReleaseOutside&&d.handleReleaseOutside()},handleMouseDown:function(b){var c=this;a.AmRectangularChart.base.handleMouseDown.call(c,b);var d=c.chartCursor;d&&d.handleMouseDown&&!c.rolledOverZB&&d.handleMouseDown(b)},update:function(){var b=this;a.AmRectangularChart.base.update.call(b),b.chartCursor&&b.chartCursor.update&&b.chartCursor.update()},handleScrollbarValueZoom:function(a){var b=this;b.relativeZoomValueAxes(a.target.valueAxes,a.relativeStart,a.relativeEnd),b.zoomAxesAndGraphs()},zoomValueScrollbar:function(a){if(a&&a.enabled){var b=a.valueAxes[0],c=b.relativeStart,d=b.relativeEnd;b.reversed&&(d=1-c,c=1-b.relativeEnd),a.percentZoom(c,d)}},zoomAxesAndGraphs:function(){var a=this;if(!a.scrollbarOnly){var b,c=a.valueAxes;for(b=0;b<c.length;b++){var d=c[b];d.zoom(a.start,a.end)}var e=a.graphs;for(b=0;b<e.length;b++){var f=e[b];f.zoom(a.start,a.end)}var g=a.chartCursor;g&&g.clearSelection(),a.zoomTrendLines()}},handleValueAxisZoomReal:function(a,b){var c=this,d=a.relativeStart,e=a.relativeEnd;if(d>e){var f=d;d=e,e=f}c.relativeZoomValueAxes(b,d,e),c.updateAfterValueZoom()},updateAfterValueZoom:function(){var a=this;a.zoomAxesAndGraphs(),a.zoomScrollbar()},relativeZoomValueAxes:function(b,c,d){var e=this;if(c=a.fitToBounds(c,0,1),d=a.fitToBounds(d,0,1),c>d){var f=c;c=d,d=f}var g=1/e.maxZoomFactor,h=a.getDecimals(g)+4;if(g>d-c){var i=c+(d-c)/2;c=i-g/2,d=i+g/2}c=a.roundTo(c,h),d=a.roundTo(d,h);var j=!1;if(b){for(var k=0;k<b.length;k++){var l=b[k],m=l.zoomToRelativeValues(c,d,!0);m&&(j=m)}e.showZB()}return j},addChartCursor:function(b){var c=this;a.callMethod("destroy",[c.chartCursor]),b&&(c.listenTo(b,"moved",c.handleCursorMove),c.listenTo(b,"zoomed",c.handleCursorZoom),c.listenTo(b,"zoomStarted",c.handleCursorZoomStarted),c.listenTo(b,"panning",c.handleCursorPanning),c.listenTo(b,"onHideCursor",c.handleCursorHide)),c.chartCursor=b},handleCursorChange:function(){},handleCursorMove:function(a){var b,c=this,d=c.valueAxes;for(b=0;b<d.length;b++)if(!a.panning){var e=d[b];e&&e.showBalloon&&e.showBalloon(a.x,a.y)}},handleCursorZoom:function(a){var b=this;if(b.skipZoomed)return void(b.skipZoomed=!1);var c=b.startX0,d=b.endX0,e=b.endY0,f=b.startY0,g=a.startX,h=a.endX,i=a.startY,j=a.endY;g=c+g*(d-c),h=c+h*(d-c),i=f+i*(e-f),j=f+j*(e-f),b.endY0=NaN,b.startY0=NaN,b.endX0=NaN,b.startX0=NaN,b.handleCursorZoomReal(g,h,i,j,a)},handleCursorHide:function(){var a,b=this,c=b.valueAxes;for(a=0;a<c.length;a++)c[a].hideBalloon();var d=b.graphs;for(a=0;a<d.length;a++)d[a].hideBalloonReal()}})}(),function(){"use strict";var a=window.AmCharts;a.AmSerialChart=a.Class({inherits:a.AmRectangularChart,construct:function(b){var c=this;c.type="serial",a.AmSerialChart.base.construct.call(c,b),c.cname="AmSerialChart",c.theme=b,c.columnSpacing=5,c.columnSpacing3D=0,c.columnWidth=.8;var d=new a.CategoryAxis(b);d.chart=this,c.categoryAxis=d,c.zoomOutOnDataUpdate=!0,c.skipZoom=!1,c.rotate=!1,c.mouseWheelScrollEnabled=!1,c.mouseWheelZoomEnabled=!1,c.minSelectedTime=0,a.applyTheme(c,b,c.cname)},initChart:function(){var b=this;a.AmSerialChart.base.initChart.call(b),b.updateCategoryAxis(b.categoryAxis,b.rotate,"categoryAxis"),b.dataChanged?b.parseData():b.onDataUpdated(),b.drawGraphs=!0},onDataUpdated:function(){var a,b=this,c=b.countColumns(),d=b.chartData,e=b.graphs;for(a=0;a<e.length;a++){var f=e[a];f.data=d,f.columnCount=c}d.length>0&&(b.firstTime=b.getStartTime(d[0].time),b.lastTime=b.getEndTime(d[d.length-1].time)),b.drawChart(),b.autoMargins&&!b.marginsUpdated?(b.marginsUpdated=!0,b.measureMargins()):b.dispDUpd()},syncGrid:function(){var b=this;if(b.synchronizeGrid){var c,d,e=b.valueAxes;if(e.length>0){var f=0;for(d=0;d<e.length;d++)c=e[d],f<c.gridCountReal&&(f=c.gridCountReal);var g=!1;for(d=0;d<e.length;d++)if(c=e[d],c.gridCountReal<f){var h=(f-c.gridCountReal)/2,i=h,j=h;h-Math.round(h)!==0&&(i-=.5,j+=.5),c.min>=0&&c.min-i*c.step<0&&(j+=i,i=0),c.max<=0&&c.max+j*c.step>0&&(i+=j,j=0);var k=a.getDecimals(c.step);c.minimum=a.roundTo(c.min-i*c.step,k),c.maximum=a.roundTo(c.max+j*c.step,k),c.setStep=c.step,c.strictMinMax=!0,g=!0}for(g&&b.updateAfterValueZoom(),d=0;d<e.length;d++)c=e[d],c.minimum=NaN,c.maximum=NaN,c.setStep=NaN,c.strictMinMax=!1}}},handleWheelReal:function(a,b){var c=this;if(!c.wheelBusy){var d=c.categoryAxis,e=d.parseDates,f=d.minDuration(),g=1,h=1;c.mouseWheelZoomEnabled?b||(g=-1):b&&(g=-1);var i=c.chartCursor;if(i){var j=i.mouseX,k=i.mouseY;if(g!=h){var l;l=c.rotate?k/c.plotAreaHeight:j/c.plotAreaWidth,g*=l,h*=1-l}var m=.05*(c.end-c.start);e&&(m=.05*(c.endTime-c.startTime)/f),1>m&&(m=1),g*=m,h*=m,e&&!d.equalSpacing||(g=Math.round(g),h=Math.round(h))}var n,o,p,q=c.chartData.length,r=c.lastTime,s=c.firstTime;0>a?e?(p=c.endTime-c.startTime,n=c.startTime+g*f,o=c.endTime+h*f,h>0&&g>0&&o>=r&&(o=r,n=r-p),c.zoomToDates(new Date(n),new Date(o))):(h>0&&g>0&&c.end>=q-1&&(h=0,g=0),n=c.start+g,o=c.end+h,c.zoomToIndexes(n,o)):e?(p=c.endTime-c.startTime,n=c.startTime-g*f,o=c.endTime-h*f,h>0&&g>0&&s>=n&&(n=s,o=s+p),c.zoomToDates(new Date(n),new Date(o))):(h>0&&g>0&&c.start<1&&(h=0,g=0),n=c.start-g,o=c.end-h,c.zoomToIndexes(n,o))}},validateData:function(b){var c=this;c.marginsUpdated=!1,c.zoomOutOnDataUpdate&&!b&&(c.start=NaN,c.startTime=NaN,c.end=NaN,c.endTime=NaN),a.AmSerialChart.base.validateData.call(c)},drawChart:function(){var b=this;if(b.realWidth>0&&b.realHeight>0){a.AmSerialChart.base.drawChart.call(b);var c=b.chartData;if(a.ifArray(c)){var d=b.chartScrollbar;d&&(!b.marginsUpdated&&b.autoMargins||d.draw());var e=b.valueScrollbar;e&&e.draw();var f,g,h=c.length-1,i=b.categoryAxis;i.parseDates&&!i.equalSpacing?(f=b.startTime,g=b.endTime,(isNaN(f)||isNaN(g))&&(f=b.firstTime,g=b.lastTime)):(f=b.start,g=b.end,(isNaN(f)||isNaN(g))&&(f=0,g=h)),b.start=void 0,b.end=void 0,b.startTime=void 0,b.endTime=void 0,b.zoom(f,g)}}else b.cleanChart()},cleanChart:function(){var b=this;a.callMethod("destroy",[b.valueAxes,b.graphs,b.categoryAxis,b.chartScrollbar,b.chartCursor,b.valueScrollbar])},updateCategoryAxis:function(a,b,c){var d=this;a.chart=this,a.id=c,a.rotate=b,a.setOrientation(!d.rotate),a.init(),d.setAxisRenderers(a),d.updateObjectSize(a)},updateValueAxes:function(){var b=this;a.AmSerialChart.base.updateValueAxes.call(b);var c,d=b.valueAxes;for(c=0;c<d.length;c++){var e=d[c],f=b.rotate;e.rotate=f,e.setOrientation(f);var g=b.categoryAxis;(!g.startOnAxis||g.parseDates)&&(e.expandMinMax=!0)}},getStartTime:function(b){var c=this,d=c.categoryAxis;return a.resetDateToMin(new Date(b),d.minPeriod,1,d.firstDayOfWeek).getTime()},getEndTime:function(b){var c=this,d=c.categoryAxis,e=a.extractPeriod(d.minPeriod);return a.changeDate(new Date(b),e.period,e.count,!0).getTime()-1},updateMargins:function(){var b=this;a.AmSerialChart.base.updateMargins.call(b);var c=b.chartScrollbar;c&&(b.getScrollbarPosition(c,b.rotate,b.categoryAxis.position),b.adjustMargins(c,b.rotate));var d=b.valueScrollbar;d&&(b.getScrollbarPosition(d,!b.rotate,b.valueAxes[0].position),b.adjustMargins(d,!b.rotate))},updateScrollbars:function(){var b=this;a.AmSerialChart.base.updateScrollbars.call(b),b.updateChartScrollbar(b.chartScrollbar,b.rotate),b.updateChartScrollbar(b.valueScrollbar,!b.rotate)},zoom:function(a,b){var c=this,d=c.categoryAxis;d.parseDates&&!d.equalSpacing?c.timeZoom(a,b):c.indexZoom(a,b),isNaN(a)&&c.zoomOutValueAxes();var e=c.chartCursor;e&&(e.pan||e.hideCursorReal()),c.updateLegendValues()},timeZoom:function(b,c){var d=this,e=d.maxSelectedTime;isNaN(e)||(c!=d.endTime&&c-b>e&&(b=c-e),b!=d.startTime&&c-b>e&&(c=b+e));var f=d.minSelectedTime;if(f>0&&f>c-b){var g=Math.round(b+(c-b)/2),h=Math.round(f/2);b=g-h,c=g+h}var i=d.chartData,j=d.categoryAxis;if(a.ifArray(i)&&(b!=d.startTime||c!=d.endTime)){var k=j.minDuration(),l=d.firstTime,m=d.lastTime;b||(b=l,isNaN(e)||(b=m-e)),c||(c=m),b>m&&(b=m),l>c&&(c=l),l>b&&(b=l),c>m&&(c=m),b>c&&(c=b+k),k/5>c-b&&(m>c?c=b+k/5:b=c-k/5),d.startTime=b,d.endTime=c;var n=i.length-1,o=d.getClosestIndex(i,"time",b,!0,0,n),p=d.getClosestIndex(i,"time",c,!1,o,n);j.timeZoom(b,c),j.zoom(o,p),d.start=a.fitToBounds(o,0,n),d.end=a.fitToBounds(p,0,n),d.zoomAxesAndGraphs(),d.zoomScrollbar(),d.fixCursor(),d.showZB(),d.syncGrid(),d.updateColumnsDepth(),d.dispatchTimeZoomEvent()}},showZB:function(){var b,c=this,d=c.categoryAxis;d&&d.parseDates&&!d.equalSpacing&&(c.startTime>c.firstTime&&(b=!0),c.endTime<c.lastTime&&(b=!0)),c.start>0&&(b=!0),c.end<c.chartData.length-1&&(b=!0);var e=c.valueAxes;if(e){var f=e[0];isNaN(f.relativeStart)||(0!==a.roundTo(f.relativeStart,3)&&(b=!0),1!=a.roundTo(f.relativeEnd,3)&&(b=!0))}a.AmSerialChart.base.showZB.call(c,b)},updateAfterValueZoom:function(){var b=this;a.AmSerialChart.base.updateAfterValueZoom.call(b),b.updateColumnsDepth()},indexZoom:function(a,b){var c=this,d=c.maxSelectedSeries,e=!1;if(isNaN(d)||(b!=c.end&&b-a>d&&(a=b-d,e=!0),a!=c.start&&b-a>d&&(b=a+d,e=!0)),e){var f=c.chartScrollbar;if(f&&f.dragger){var g=f.dragger.getBBox();f.maxWidth=g.width,f.maxHeight=g.height}}if(a!=c.start||b!=c.end){var h=c.chartData.length-1;isNaN(a)&&(a=0,isNaN(d)||(a=h-d)),isNaN(b)&&(b=h),a>b&&(b=a),b>h&&(b=h),a>h&&(a=h-1),0>a&&(a=0),c.start=a,c.end=b,c.categoryAxis.zoom(a,b),c.zoomAxesAndGraphs(),c.zoomScrollbar(),c.fixCursor(),0!==a||b!=c.chartData.length-1?c.showZB(!0):c.showZB(!1),c.syncGrid(),c.updateColumnsDepth(),c.dispatchIndexZoomEvent()}},updateGraphs:function(){var b=this;a.AmSerialChart.base.updateGraphs.call(b);var c,d=b.graphs;for(c=0;c<d.length;c++){var e=d[c];e.columnWidthReal=b.columnWidth,e.categoryAxis=b.categoryAxis,a.isString(e.fillToGraph)&&(e.fillToGraph=b.graphsById[e.fillToGraph])}},zoomAxesAndGraphs:function(){var b=this;a.AmSerialChart.base.zoomAxesAndGraphs.call(b),b.updateColumnsDepth()},updateColumnsDepth:function(){var b=this;if(0!==b.depth3D||0!==b.angle){var c,d,e=b.graphs;for(b.columnsArray=[],c=0;c<e.length;c++){d=e[c];var f=d.columnsArray;if(f){var g;for(g=0;g<f.length;g++)b.columnsArray.push(f[g])}}b.columnsArray.sort(b.compareDepth);var h=b.columnsArray.length;if(h>0){var i=b.columnsSet,j=b.container.set();for(b.columnSet.push(j),c=0;c<b.columnsArray.length;c++)j.push(b.columnsArray[c].column.set);d&&j.translate(d.x,d.y),b.columnsSet=j,a.remove(i)}}},compareDepth:function(a,b){return a.depth>b.depth?1:-1},zoomScrollbar:function(){var a=this,b=a.chartScrollbar,c=a.categoryAxis;if(b){if(!a.zoomedByScrollbar){var d=b.dragger;d&&d.stop()}a.zoomedByScrollbar=!1,c.parseDates&&!c.equalSpacing?b.timeZoom(a.startTime,a.endTime):b.zoom(a.start,a.end)}a.zoomValueScrollbar(a.valueScrollbar)},updateTrendLines:function(){var b,c=this,d=c.trendLines;for(b=0;b<d.length;b++){var e=d[b];e=a.processObject(e,a.TrendLine,c.theme),d[b]=e,e.chart=this,e.id||(e.id="trendLineAuto"+b+"_"+(new Date).getTime()),a.isString(e.valueAxis)&&(e.valueAxis=c.getValueAxisById(e.valueAxis)),e.valueAxis||(e.valueAxis=c.valueAxes[0]),e.categoryAxis=c.categoryAxis}},countColumns:function(){var a,b,c,d,e=this,f=0,g=e.valueAxes.length,h=e.graphs.length,i=!1;for(d=0;g>d;d++){b=e.valueAxes[d];var j=b.stackType,k=0;if("100%"==j||"regular"==j)for(i=!1,c=0;h>c;c++)a=e.graphs[c],a.tcc=1,a.valueAxis==b&&"column"==a.type&&(!i&&a.stackable&&(f++,i=!0),(!a.stackable&&a.clustered||a.newStack&&0!==k)&&f++,a.columnIndex=f-1,a.clustered||(a.columnIndex=0),k++);if("none"==j||"3d"==j){var l=!1;for(c=0;h>c;c++)a=e.graphs[c],a.valueAxis==b&&"column"==a.type&&(a.clustered?(a.tcc=1,a.newStack&&(f=0),a.hidden||(a.columnIndex=f,f++)):a.hidden||(l=!0,a.tcc=1,a.columnIndex=0));l&&0===f&&(f=1)}if("3d"==j){var m=1;for(d=0;h>d;d++)a=e.graphs[d],a.newStack&&m++,a.depthCount=m,a.tcc=f;f=m}}return f},parseData:function(){var b=this;a.AmSerialChart.base.parseData.call(b),b.parseSerialData(b.dataProvider)},getCategoryIndexByValue:function(a){var b,c=this,d=c.chartData;for(b=0;b<d.length;b++)if(d[b].category==a)return b},handleScrollbarZoom:function(a){var b=this;b.zoomedByScrollbar=!0,b.zoom(a.start,a.end)},dispatchTimeZoomEvent:function(){var b=this;if(b.drawGraphs&&(b.prevStartTime!=b.startTime||b.prevEndTime!=b.endTime)){var c={};c.type="zoomed",c.startDate=new Date(b.startTime),c.endDate=new Date(b.endTime),c.startIndex=b.start,c.endIndex=b.end,b.startIndex=b.start,b.endIndex=b.end,b.startDate=c.startDate,b.endDate=c.endDate,b.prevStartTime=b.startTime,b.prevEndTime=b.endTime;var d=b.categoryAxis,e=a.extractPeriod(d.minPeriod).period,f=d.dateFormatsObject[e];c.startValue=a.formatDate(c.startDate,f,b),c.endValue=a.formatDate(c.endDate,f,b),c.chart=b,c.target=b,b.fire(c)}},dispatchIndexZoomEvent:function(){var b=this;if(b.drawGraphs&&(b.prevStartIndex!=b.start||b.prevEndIndex!=b.end)){b.startIndex=b.start,b.endIndex=b.end;var c=b.chartData;if(a.ifArray(c)&&!isNaN(b.start)&&!isNaN(b.end)){var d={};d.chart=b,d.target=b,d.type="zoomed",d.startIndex=b.start,d.endIndex=b.end,d.startValue=c[b.start].category,d.endValue=c[b.end].category,b.categoryAxis.parseDates&&(b.startTime=c[b.start].time,b.endTime=c[b.end].time,d.startDate=new Date(b.startTime),d.endDate=new Date(b.endTime)),b.prevStartIndex=b.start,b.prevEndIndex=b.end,b.fire(d)}}},updateLegendValues:function(){var a=this;a.legend&&a.legend.updateValues()},getClosestIndex:function(a,b,c,d,e,f){var g=this;0>e&&(e=0),f>a.length-1&&(f=a.length-1);var h=e+Math.round((f-e)/2),i=a[h][b];if(c==i)return h;if(1>=f-e){if(d)return e;var j=a[e][b],k=a[f][b];return Math.abs(j-c)<Math.abs(k-c)?e:f}return c==i?h:i>c?g.getClosestIndex(a,b,c,d,e,h):g.getClosestIndex(a,b,c,d,h,f)},zoomToIndexes:function(a,b){var c=this,d=c.chartData;if(d){var e=d.length;if(e>0){0>a&&(a=0),b>e-1&&(b=e-1);var f=c.categoryAxis;f.parseDates&&!f.equalSpacing?c.zoom(d[a].time,c.getEndTime(d[b].time)):c.zoom(a,b)}}},zoomToDates:function(b,c){var d=this,e=d.chartData;if(e)if(d.categoryAxis.equalSpacing){var f=d.getClosestIndex(e,"time",b.getTime(),!0,0,e.length);c=a.resetDateToMin(c,d.categoryAxis.minPeriod,1);var g=d.getClosestIndex(e,"time",c.getTime(),!1,0,e.length);d.zoom(f,g)}else d.zoom(b.getTime(),c.getTime())},zoomToCategoryValues:function(a,b){var c=this;c.chartData&&c.zoom(c.getCategoryIndexByValue(a),c.getCategoryIndexByValue(b))},formatPeriodString:function(b,c){var d=this;if(c){c.periodDataItem={},c.periodPercentDataItem={};var e=["value","open","low","high","close"],f=["value","open","low","high","close","average","sum","count"],g=c.valueAxis,h=d.chartData,i=c.numberFormatter;i||(i=d.nf);for(var j=0;j<e.length;j++){for(var k,l,m,n,o,p,q,r,s,t,u=e[j],v=0,w=0,x=0,y=0,z=d.start;z<=d.end;z++){var A=h[z];if(A){var B=A.axes[g.id].graphs[c.id];if(B){if(B.values){var C=B.values[u],D=A.x.categoryAxis;if(d.rotate?(0>D||D>B.graph.height)&&(C=NaN):(0>D||D>B.graph.width)&&(C=NaN),!isNaN(C)){isNaN(k)&&(k=C),l=C,(isNaN(m)||m>C)&&(m=C),(isNaN(n)||C>n)&&(n=C);var E=a.getDecimals(v),F=a.getDecimals(C);v+=C,v=a.roundTo(v,Math.max(E,F)),w++,o=v/w}}if(B.percents){var G=B.percents[u];if(!isNaN(G)){isNaN(p)&&(p=G),q=G,(isNaN(r)||r>G)&&(r=G),(isNaN(s)||G>s)&&(s=G);var H=a.getDecimals(x),I=a.getDecimals(G);x+=G,x=a.roundTo(x,Math.max(H,I)),y++,t=x/y}}}}}var J={open:k,close:l,high:n,low:m,average:o,sum:v,count:w},K={open:p,close:q,high:s,low:r,average:t,sum:x,count:y};b=a.formatValue(b,J,f,i,u+"\\.",d.usePrefixes,d.prefixesOfSmallNumbers,d.prefixesOfBigNumbers),b=a.formatValue(b,K,f,d.pf,"percents\\."+u+"\\."),c.periodDataItem[u]=J,c.periodPercentDataItem[u]=K}}return b=a.cleanFromEmpty(b)},formatString:function(b,c,d){var e=this;if(c){var f=c.graph;if(void 0!==b){if(-1!=b.indexOf("[[category]]")){var g=c.serialDataItem.category,h=e.categoryAxis;if(h.parseDates){var i=e.balloonDateFormat,j=e.chartCursor;j&&j.categoryBalloonDateFormat&&(i=j.categoryBalloonDateFormat);var k=a.formatDate(g,i,e);-1!=k.indexOf("fff")&&(k=a.formatMilliseconds(k,g)),g=k}b=b.replace(/\[\[category\]\]/g,String(g.replace("$","$$$")))}var l=f.numberFormatter;l||(l=e.nf);var m=c.graph.valueAxis,n=m.duration;if(n&&!isNaN(c.values.value)){var o=a.formatDuration(c.values.value,n,"",m.durationUnits,m.maxInterval,l),p=new RegExp("\\[\\[value\\]\\]","g");b=b.replace(p,o)}if("date"==m.type){var q=a.formatDate(new Date(c.values.value),f.dateFormat,e),r=new RegExp("\\[\\[value\\]\\]","g");b=b.replace(r,q),q=a.formatDate(new Date(c.values.open),f.dateFormat,e),r=new RegExp("\\[\\[open\\]\\]","g"),b=b.replace(r,q)}var s=["value","open","low","high","close","total"],t=e.pf;b=a.formatValue(b,c.percents,s,t,"percents\\."),b=a.formatValue(b,c.values,s,l,"",e.usePrefixes,e.prefixesOfSmallNumbers,e.prefixesOfBigNumbers),b=a.formatValue(b,c.values,["percents"],t),-1!=b.indexOf("[[")&&(b=a.formatDataContextValue(b,c.dataContext)),-1!=b.indexOf("[[")&&c.graph.customData&&(b=a.formatDataContextValue(b,c.graph.customData)),b=a.AmSerialChart.base.formatString.call(e,b,c,d)}return b}},updateChartCursor:function(){var b=this;a.AmSerialChart.base.updateChartCursor.call(b);var c=b.chartCursor,d=b.categoryAxis;if(c){var e=c.categoryBalloonAlpha,f=c.categoryBalloonColor,g=c.color;void 0===f&&(f=c.cursorColor);var h=c.valueZoomable,i=c.zoomable,j=c.valueLineEnabled;b.rotate?(c.vLineEnabled=j,c.hZoomEnabled=h,c.vZoomEnabled=i):(c.hLineEnabled=j,c.vZoomEnabled=h,c.hZoomEnabled=i);var k,l;if(c.valueLineBalloonEnabled)for(var m=0;m<b.valueAxes.length;m++)l=b.valueAxes[m],k=l.balloon,k||(k={}),k=a.extend(k,b.balloon,!0),k.fillColor=f,k.balloonColor=f,k.fillAlpha=e,k.borderColor=f,k.color=g,l.balloon=k;else for(var n=0;n<b.valueAxes.length;n++)l=b.valueAxes[n],l.balloon&&(l.balloon=null);d&&(d.balloonTextFunction=c.categoryBalloonFunction,c.categoryLineAxis=d,d.balloonText=c.categoryBalloonText,c.categoryBalloonEnabled&&(k=d.balloon,k||(k={}),k=a.extend(k,b.balloon,!0),k.fillColor=f,k.balloonColor=f,k.fillAlpha=e,k.borderColor=f,k.color=g,d.balloon=k),d.balloon&&(d.balloon.enabled=c.categoryBalloonEnabled))}},addChartScrollbar:function(b){var c=this;a.callMethod("destroy",[c.chartScrollbar]),b&&(b.chart=c,c.listenTo(b,"zoomed",c.handleScrollbarZoom)),c.rotate?void 0===b.width&&(b.width=b.scrollbarHeight):void 0===b.height&&(b.height=b.scrollbarHeight),b.gridAxis=c.categoryAxis,c.chartScrollbar=b},addValueScrollbar:function(b){var c=this;a.callMethod("destroy",[c.valueScrollbar]),b&&(b.chart=c,c.listenTo(b,"zoomed",c.handleScrollbarValueZoom),c.listenTo(b,"zoomStarted",c.handleCursorZoomStarted));var d=b.scrollbarHeight;c.rotate?void 0===b.height&&(b.height=d):void 0===b.width&&(b.width=d),b.gridAxis||(b.gridAxis=c.valueAxes[0]),b.valueAxes=c.valueAxes,c.valueScrollbar=b},removeChartScrollbar:function(){var b=this;a.callMethod("destroy",[b.chartScrollbar]),b.chartScrollbar=null},removeValueScrollbar:function(){var b=this;a.callMethod("destroy",[b.valueScrollbar]),b.valueScrollbar=null},handleReleaseOutside:function(b){var c=this;a.AmSerialChart.base.handleReleaseOutside.call(c,b),a.callMethod("handleReleaseOutside",[c.chartScrollbar,c.valueScrollbar])},update:function(){var b=this;a.AmSerialChart.base.update.call(b),b.chartScrollbar&&b.chartScrollbar.update&&b.chartScrollbar.update(),b.valueScrollbar&&b.valueScrollbar.update&&b.valueScrollbar.update()},processScrollbars:function(){var b=this;a.AmSerialChart.base.processScrollbars.call(b);var c=b.valueScrollbar;c&&(c=a.processObject(c,a.ChartScrollbar,b.theme),c.id="valueScrollbar",b.addValueScrollbar(c))},handleValueAxisZoom:function(a){var b=this;b.handleValueAxisZoomReal(a,b.valueAxes)},zoomOut:function(){var b=this;a.AmSerialChart.base.zoomOut.call(b),b.zoom(),b.syncGrid()},getNextItem:function(a){var b=this,c=a.index,d=b.chartData,e=a.graph;if(c+1<d.length)for(var f=c+1;f<d.length;f++){var g=d[f];if(g&&(a=g.axes[e.valueAxis.id].graphs[e.id],!isNaN(a.y)))return a}},handleCursorZoomReal:function(a,b,c,d,e){var f,g,h,i,j=this,k=e.target;if(j.rotate?(isNaN(a)||isNaN(b)||j.relativeZoomValueAxes(j.valueAxes,a,b)&&j.updateAfterValueZoom(),f=c,g=d,k.vZoomEnabled&&(h=e.start,i=e.end)):(isNaN(c)||isNaN(d)||j.relativeZoomValueAxes(j.valueAxes,c,d)&&j.updateAfterValueZoom(),f=a,g=b,k.hZoomEnabled&&(h=e.start,i=e.end)),!isNaN(h)&&!isNaN(i)){var l=j.categoryAxis;l.parseDates&&!l.equalSpacing?j.zoomToDates(new Date(h),new Date(i)):j.zoomToIndexes(h,i)}},handleCursorZoomStarted:function(){var a=this,b=a.valueAxes;if(b){var c=b[0],d=c.relativeStart,e=c.relativeEnd;c.reversed&&(d=1-c.relativeEnd,e=1-c.relativeStart),a.rotate?(a.startX0=d,a.endX0=e):(a.startY0=d,a.endY0=e)}var f=a.categoryAxis;f&&(a.start0=a.start,a.end0=a.end,a.startTime0=a.startTime,a.endTime0=a.endTime)},fixCursor:function(){var a=this;a.chartCursor&&a.chartCursor.fixPosition(),a.prevCursorItem=null},handleCursorMove:function(b){var c=this;a.AmSerialChart.base.handleCursorMove.call(c,b);var d=b.target,e=c.categoryAxis;if(b.panning)c.handleCursorHide(b);else if(c.chartData&&!d.isHidden){var f=c.graphs;if(f){var g;g=c.rotate?b.y:b.x;var h,i=e.xToIndex(g),j=c.chartData;if(h=j[i]){var k,l,m,n,o;if(d.oneBalloonOnly&&d.valueBalloonsEnabled){var p=1/0;for(k=0;k<f.length;k++){l=f[k];var q=l.balloon;if(q.enabled&&l.showBalloon&&!l.hidden){if(n=l.valueAxis.id,m=h.axes[n].graphs[l.id],d.showNextAvailable&&isNaN(m.y)&&(m=c.getNextItem(m),!m))continue;var r=m.y;"top"==l.showBalloonAt&&(r=0),"bottom"==l.showBalloonAt&&(r=c.height);var s,t=d.mouseX,u=d.mouseY;c.rotate?(s=Math.abs(t-r),p>s&&(p=s,o=l)):(s=Math.abs(u-r),p>s&&(p=s,o=l))}}d.mostCloseGraph=o}if(c.prevCursorItem!=h||o!=c.prevMostCloseGraph){var v=[];for(k=0;k<f.length;k++)l=f[k],n=l.valueAxis.id,m=h.axes[n].graphs[l.id],d.showNextAvailable&&isNaN(m.y)&&(m=c.getNextItem(m)),o&&l!=o?(l.showGraphBalloon(m,d.pointer,!1,d.graphBulletSize,d.graphBulletAlpha),l.balloon.hide(0)):d.valueBalloonsEnabled?(l.balloon.showBullet=d.bulletsEnabled,l.balloon.bulletSize=d.bulletSize/2,b.hideBalloons||(l.showGraphBalloon(m,d.pointer,!1,d.graphBulletSize,d.graphBulletAlpha),l.balloon.set&&v.push({balloon:l.balloon,y:l.balloon.pointToY}))):(l.currentDataItem=m,l.resizeBullet(m,d.graphBulletSize,d.graphBulletAlpha));d.avoidBalloonOverlapping&&c.arrangeBalloons(v),c.prevCursorItem=h}c.prevMostCloseGraph=o}}e.showBalloon(b.x,b.y,d.categoryBalloonDateFormat,b.skip),c.updateLegendValues()}},handleCursorHide:function(b){var c=this;a.AmSerialChart.base.handleCursorHide.call(c,b);var d=c.categoryAxis;c.prevCursorItem=null,c.updateLegendValues(),d&&d.hideBalloon();var e,f=c.graphs;for(e=0;e<f.length;e++){var g=f[e];g.currentDataItem=null}},handleCursorPanning:function(b){var c,d,e=this,f=b.target,g=b.deltaX,h=b.deltaY,i=b.delta2X,j=b.delta2Y,k=!1;if(e.rotate){isNaN(i)&&(i=g,k=!0);var l=e.endX0,m=e.startX0,n=l-m,o=n*g,p=n*i,q=m-o,r=l-p,s=n;k||(s=0),c=a.fitToBounds(q,0,1-s),d=a.fitToBounds(r,s,1)}else{isNaN(j)&&(j=h,k=!0);var t=e.endY0,u=e.startY0,v=t-u,w=v*h,x=v*j,y=u+x,z=t+w,A=v;
k||(A=0),c=a.fitToBounds(y,0,1-A),d=a.fitToBounds(z,A,1)}var B;f.valueZoomable&&(B=e.relativeZoomValueAxes(e.valueAxes,c,d));var C,D,E,F=e.categoryAxis;if(e.rotate?(D=h,E=j):(D=g,E=i),k=!1,isNaN(E)&&(E=D,k=!0),f.zoomable&&(Math.abs(D)>0||Math.abs(E)>0))if(F.parseDates&&!F.equalSpacing){var G=e.startTime0,H=e.endTime0,I=H-G,J=I*D,K=I*E,L=e.firstTime,M=e.lastTime,N=I;k||(N=0);var O=Math.round(a.fitToBounds(G-J,L,M-N)),P=Math.round(a.fitToBounds(H-K,L+N,M));if(e.startTime!=O||e.endTime!=P){var Q={chart:e,target:f,type:"zoomed",start:O,end:P};e.skipZoomed=!0,f.fire(Q),e.zoom(O,P),C=!0}}else{var R=e.start0,S=e.end0,T=S-R,U=Math.round(T*D),V=Math.round(T*E),W=e.chartData.length-1,X=T;k||(X=0),c=a.fitToBounds(R-U,0,W-X),d=a.fitToBounds(S-V,X,W),(e.start!=c||e.end!=d)&&(e.skipZoomed=!0,f.fire({chart:e,target:f,type:"zoomed",start:c,end:d}),e.zoom(c,d),C=!0)}!C&&B&&e.updateAfterValueZoom()},arrangeBalloons:function(a){var b=this,c=b.plotAreaHeight;a.sort(b.compareY);var d,e,f,g=b.plotAreaWidth,h=a.length;for(d=0;h>d;d++)e=a[d].balloon,e.setBounds(0,0,g,c),e.restorePrevious(),e.draw(),c=e.yPos-3;for(a.reverse(),d=0;h>d;d++){e=a[d].balloon;var i=e.bottom,j=e.bottom-e.yPos;d>0&&f+3>i-j&&(e.setBounds(0,f+3,g,f+j+3),e.restorePrevious(),e.draw()),e.set&&e.set.show(),f=e.bottom}},compareY:function(a,b){return a.y<b.y?1:-1}})}(),function(){"use strict";var a=window.AmCharts;a.Cuboid=a.Class({construct:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=this;r.set=a.set(),r.container=a,r.h=Math.round(c),r.w=Math.round(b),r.dx=d,r.dy=e,r.colors=f,r.alpha=g,r.bwidth=h,r.bcolor=i,r.balpha=j,r.dashLength=n,r.topRadius=p,r.pattern=o,r.rotate=m,r.bcn=q,m?0>b&&0===k&&(k=180):0>c&&270==k&&(k=90),r.gradientRotation=k,0===d&&0===e&&(r.cornerRadius=l),r.draw()},draw:function(){var b=this,c=b.set;c.clear();var d=b.container,e=d.chart,f=b.w,g=b.h,h=b.dx,i=b.dy,j=b.colors,k=b.alpha,l=b.bwidth,m=b.bcolor,n=b.balpha,o=b.gradientRotation,p=b.cornerRadius,q=b.dashLength,r=b.pattern,s=b.topRadius,t=b.bcn,u=j,v=j;"object"==typeof j&&(u=j[0],v=j[j.length-1]);var w,x,y,z,A,B,C,D,E,F=k;r&&(k=0);var G,H,I,J,K=b.rotate;if(Math.abs(h)>0||Math.abs(i)>0)if(isNaN(s)){var L=v,M=a.adjustLuminosity(u,-.2),N=u;M=a.adjustLuminosity(N,-.2),w=a.polygon(d,[0,h,f+h,f,0],[0,i,i,0,0],M,k,1,m,0,o),n>0&&(E=a.line(d,[0,h,f+h],[0,i,i],m,n,l,q)),x=a.polygon(d,[0,0,f,f,0],[0,g,g,0,0],M,k,1,m,0,o),x.translate(h,i),n>0&&(y=a.line(d,[h,h],[i,i+g],m,n,l,q)),z=a.polygon(d,[0,0,h,h,0],[0,g,g+i,i,0],M,k,1,m,0,o),A=a.polygon(d,[f,f,f+h,f+h,f],[0,g,g+i,i,0],M,k,1,m,0,o),n>0&&(B=a.line(d,[f,f+h,f+h,f],[0,i,g+i,g],m,n,l,q)),M=a.adjustLuminosity(L,.2),C=a.polygon(d,[0,h,f+h,f,0],[g,g+i,g+i,g,g],M,k,1,m,0,o),n>0&&(D=a.line(d,[0,h,f+h],[g,g+i,g+i],m,n,l,q))}else{var O,P,Q,R;K?(P=g/2,O=h/2,R=g/2,Q=f+h/2,H=Math.abs(g/2),G=Math.abs(h/2)):(O=f/2,P=i/2,Q=f/2,R=g+i/2+1,G=Math.abs(f/2),H=Math.abs(i/2)),I=G*s,J=H*s,G>.1&&G>.1&&(w=a.circle(d,G,u,k,l,m,n,!1,H),w.translate(O,P)),I>.1&&I>.1&&(C=a.circle(d,I,a.adjustLuminosity(u,.5),k,l,m,n,!1,J),C.translate(Q,R))}k=F,Math.abs(g)<1&&(g=0),Math.abs(f)<1&&(f=0);var S;if(!isNaN(s)&&(Math.abs(h)>0||Math.abs(i)>0)){j=[u];var T,U,V,W,X={fill:j,stroke:m,"stroke-width":l,"stroke-opacity":n,"fill-opacity":k},Y=",";K?(U=g/2-g/2*s,T="M0"+Y+"0 L"+f+Y+U,W=" B",f>0&&(W=" A"),a.VML?(T+=W+Math.round(f-I)+Y+Math.round(g/2-J)+Y+Math.round(f+I)+Y+Math.round(g/2+J)+Y+f+Y+0+Y+f+Y+g,T+=" L0"+Y+g,T+=W+Math.round(-G)+Y+Math.round(g/2-H)+Y+Math.round(G)+Y+Math.round(g/2+H)+Y+0+Y+g+Y+0+Y+0):(T+="A"+I+Y+J+Y+0+Y+0+Y+0+Y+f+Y+(g-g/2*(1-s))+"L0"+Y+g,T+="A"+G+Y+H+Y+0+Y+0+Y+1+Y+0+Y+0),V=90):(U=f/2-f/2*s,T="M0"+Y+"0 L"+U+Y+g,a.VML?(T="M0"+Y+"0 L"+U+Y+g,W=" B",0>g&&(W=" A"),T+=W+Math.round(f/2-I)+Y+Math.round(g-J)+Y+Math.round(f/2+I)+Y+Math.round(g+J)+Y+0+Y+g+Y+f+Y+g,T+=" L"+f+Y+0,T+=W+Math.round(f/2+G)+Y+Math.round(H)+Y+Math.round(f/2-G)+Y+Math.round(-H)+Y+f+Y+0+Y+0+Y+0):(T+="A"+I+Y+J+Y+0+Y+0+Y+0+Y+(f-f/2*(1-s))+Y+g+"L"+f+Y+0,T+="A"+G+Y+H+Y+0+Y+0+Y+1+Y+0+Y+0),V=180),S=d.path(T).attr(X),S.gradient("linearGradient",[u,a.adjustLuminosity(u,-.3),a.adjustLuminosity(u,-.3),u],V),K?S.translate(h/2,0):S.translate(0,i/2)}else S=0===g?a.line(d,[0,f],[0,0],m,n,l,q):0===f?a.line(d,[0,0],[0,g],m,n,l,q):p>0?a.rect(d,f,g,j,k,l,m,n,p,o,q):a.polygon(d,[0,0,f,f,0],[0,g,g,0,0],j,k,l,m,n,o,!1,q);var Z;Z=isNaN(s)?0>g?[w,E,x,y,z,A,B,C,D,S]:[C,D,x,y,z,A,w,E,B,S]:K?f>0?[w,S,C]:[C,S,w]:0>g?[w,S,C]:[C,S,w],a.setCN(e,S,t+"front"),a.setCN(e,x,t+"back"),a.setCN(e,C,t+"top"),a.setCN(e,w,t+"bottom"),a.setCN(e,z,t+"left"),a.setCN(e,A,t+"right");var $;for($=0;$<Z.length;$++){var _=Z[$];_&&(c.push(_),a.setCN(e,_,t+"element"))}r&&S.pattern(r,NaN,e.path)},width:function(a){isNaN(a)&&(a=0);var b=this;b.w=Math.round(a),b.draw()},height:function(a){isNaN(a)&&(a=0);var b=this;b.h=Math.round(a),b.draw()},animateHeight:function(b,c){var d=this;d.animationFinished=!1,d.easing=c,d.totalFrames=b*a.updateRate,d.rh=d.h,d.frame=0,d.height(1),setTimeout(function(){d.updateHeight.call(d)},1e3/a.updateRate)},updateHeight:function(){var b=this;b.frame++;var c=b.totalFrames;if(b.frame<=c){var d=b.easing(0,b.frame,1,b.rh-1,c);b.height(d),window.requestAnimationFrame?window.requestAnimationFrame(function(){b.updateHeight.call(b)}):setTimeout(function(){b.updateHeight.call(b)},1e3/a.updateRate)}else b.height(b.rh),b.animationFinished=!0},animateWidth:function(b,c){var d=this;d.animationFinished=!1,d.easing=c,d.totalFrames=b*a.updateRate,d.rw=d.w,d.frame=0,d.width(1),setTimeout(function(){d.updateWidth.call(d)},1e3/a.updateRate)},updateWidth:function(){var b=this;b.frame++;var c=b.totalFrames;if(b.frame<=c){var d=b.easing(0,b.frame,1,b.rw-1,c);b.width(d),window.requestAnimationFrame?window.requestAnimationFrame(function(){b.updateWidth.call(b)}):setTimeout(function(){b.updateWidth.call(b)},1e3/a.updateRate)}else b.width(b.rw),b.animationFinished=!0}})}(),function(){"use strict";var a=window.AmCharts;a.CategoryAxis=a.Class({inherits:a.AxisBase,construct:function(b){var c=this;c.cname="CategoryAxis",a.CategoryAxis.base.construct.call(c,b),c.minPeriod="DD",c.parseDates=!1,c.equalSpacing=!1,c.position="bottom",c.startOnAxis=!1,c.gridPosition="middle",c.safeDistance=30,c.stickBalloonToCategory=!1,a.applyTheme(c,b,c.cname)},draw:function(){var b=this;a.CategoryAxis.base.draw.call(b),b.generateDFObject();var c=b.chart.chartData;if(b.data=c,b.labelRotationR=b.labelRotation,b.type=null,a.ifArray(c)){var d,e=b.chart,f="category-axis";"scrollbar"!=b.id?(a.setCN(e,b.set,f),a.setCN(e,b.labelsSet,f),a.setCN(e,b.axisLine.axisSet,f)):b.bcn=b.id+"-";var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=b.end,v=b.start,w=b.labelFrequency,x=0,y=u-v+1,z=b.gridCountR,A=b.showFirstLabel,B=b.showLastLabel,C="",D=a.extractPeriod(b.minPeriod),E=a.getPeriodDuration(D.period,D.count),F=b.rotate,G=b.firstDayOfWeek,H=b.boldPeriodBeginning,I=c[c.length-1].time,J=a.resetDateToMin(new Date(I+1.05*E),b.minPeriod,1,G).getTime();b.firstTime=e.firstTime;var K,L,M;b.endTime>J&&(b.endTime=J);var N,O,P,Q=b.minorGridEnabled,R=b.gridAlpha,S=0,T=0;if(b.widthField)for(d=b.start;d<=b.end;d++)if(P=b.data[d]){var U=Number(b.data[d].dataContext[b.widthField]);isNaN(U)||(S+=U,P.widthValue=U)}if(b.parseDates&&!b.equalSpacing)b.lastTime=c[c.length-1].time,b.maxTime=a.resetDateToMin(new Date(b.lastTime+1.05*E),b.minPeriod,1,G).getTime(),b.timeDifference=b.endTime-b.startTime,b.parseDatesDraw();else if(b.parseDates){if(b.parseDates&&b.equalSpacing){x=b.start,b.startTime=b.data[b.start].time,b.endTime=b.data[b.end].time,b.timeDifference=b.endTime-b.startTime,i=b.choosePeriod(0),k=i.period,j=i.count,l=a.getPeriodDuration(k,j),E>l&&(k=D.period,j=D.count,l=E),m=k,"WW"==m&&(m="DD"),b.currentDateFormat=b.dateFormatsObject[m],b.stepWidth=b.getStepWidth(y),z=Math.ceil(b.timeDifference/l)+1,n=a.resetDateToMin(new Date(b.startTime-l),k,j,G).getTime(),b.cellWidth=b.getStepWidth(y),p=Math.round(n/l),v=-1,p/2==Math.round(p/2)&&(v=-2,n-=l),t=b.start,t/2==Math.round(t/2)&&t--,0>t&&(t=0);var V=b.end+2;V>=b.data.length&&(V=b.data.length);var W=!1;W=!A,b.previousPos=-1e3,b.labelRotationR>20&&(b.safeDistance=5);var X=t;if(b.data[t].time!=a.resetDateToMin(new Date(b.data[t].time),k,j,G).getTime()){var Y=0,Z=n;for(d=t;V>d;d++)q=b.data[d].time,b.checkPeriodChange(k,j,q,Z)&&(Y++,Y>=2&&(X=d,d=V),Z=q)}if(Q&&j>1&&(N=b.chooseMinorFrequency(j),O=a.getPeriodDuration(k,N)),b.gridCountR>0)for(d=t;V>d;d++)if(q=b.data[d].time,b.checkPeriodChange(k,j,q,n)&&d>=X){if(g=b.getCoordinate(d-b.start),r=!1,b.nextPeriod[m]&&(r=b.checkPeriodChange(b.nextPeriod[m],1,q,n,m))){var $=a.resetDateToMin(new Date(q),b.nextPeriod[m],1,G).getTime();$!=q&&(r=!1)}if(K=!1,r&&b.markPeriodChange?(s=b.dateFormatsObject[b.nextPeriod[m]],K=!0):s=b.dateFormatsObject[m],C=a.formatDate(new Date(q),s,e),(d==v&&!A||d==z&&!B)&&(C=" "),W)W=!1;else if(H||(K=!1),g-b.previousPos>b.safeDistance*Math.cos(b.labelRotationR*Math.PI/180)){b.labelFunction&&(C=b.labelFunction(C,new Date(q),this,k,j,o)),b.boldLabels&&(K=!0),L=new b.axisItemRenderer(this,g,C,M,M,M,M,K);var _=L.graphics();b.pushAxisItem(L);var aa=_.getBBox().width;a.isModern||(aa-=g),b.previousPos=g+aa}n=q,o=q}}}else if(b.cellWidth=b.getStepWidth(y),z>y&&(z=y),x+=b.start,b.stepWidth=b.getStepWidth(y),z>0){var ba=Math.floor(y/z);N=b.chooseMinorFrequency(ba),t=x,t/2==Math.round(t/2)&&t--,0>t&&(t=0);var ca=0;for(b.widthField&&(t=b.start),b.end-t+1>=b.autoRotateCount&&(b.labelRotationR=b.autoRotateAngle),d=t;d<=b.end+2;d++){var da,ea=!1;if(d>=0&&d<b.data.length?(da=b.data[d],C=da.category,ea=da.forceShow):C="",Q&&!isNaN(N)){if(d/N!=Math.round(d/N)&&!ea)continue;d/ba==Math.round(d/ba)||ea||(b.gridAlpha=b.minorGridAlpha,C=M)}else if(d/ba!=Math.round(d/ba)&&!ea)continue;g=b.getCoordinate(d-x);var fa=0;"start"==b.gridPosition&&(g-=b.cellWidth/2,fa=b.cellWidth/2),h=!0;var ga=fa;"start"==b.tickPosition&&(ga=0,h=!1,fa=0),(d==v&&!A||d==b.end&&!B)&&(C=M),Math.round(ca/w)!=ca/w&&(C=M),ca++;var ha=b.cellWidth;F&&(ha=NaN,(b.ignoreAxisWidth||!e.autoMargins)&&(ha="right"==b.position?e.marginRight:e.marginLeft,ha-=b.tickLength+10)),b.labelFunction&&da&&(C=b.labelFunction(C,da,this)),C=a.fixBrakes(C),K=!1,b.boldLabels&&(K=!0),d>b.end&&"start"==b.tickPosition&&(C=" "),b.rotate&&b.inside&&(fa-=2),isNaN(da.widthValue)||(da.percentWidthValue=da.widthValue/S*100,ha=b.rotate?b.height*da.widthValue/S:b.width*da.widthValue/S,g=T,T+=ha,fa=ha/2),L=new b.axisItemRenderer(this,g,C,h,ha,fa,M,K,ga,!1,da.labelColor,da.className),L.serialDataItem=da,b.pushAxisItem(L),b.gridAlpha=R}}var ia,ja=0;for(d=0;d<b.data.length;d++)if(P=b.data[d]){if(b.parseDates&&!b.equalSpacing){var ka=P.time,la=b.cellWidth;if("MM"==b.minPeriod){var ma=a.daysInMonth(new Date(ka)),na=864e5*ma;la=na*b.stepWidth,P.cellWidth=la}ia=Math.round((ka-b.startTime)*b.stepWidth+la/2)}else ia=b.getCoordinate(d-x);P.x[b.id]=ia}if(b.widthField)for(d=b.start;d<=b.end;d++){P=b.data[d];var oa=P.widthValue;P.percentWidthValue=oa/S*100,b.rotate?(ia=b.height*oa/S/2+ja,ja=b.height*oa/S+ja):(ia=b.width*oa/S/2+ja,ja=b.width*oa/S+ja),P.x[b.id]=ia}var pa=b.guides.length;for(d=0;pa>d;d++){var qa=b.guides[d],ra=NaN,sa=NaN,ta=NaN,ua=NaN,va=NaN,wa=qa.above;qa.toCategory&&(ua=e.getCategoryIndexByValue(qa.toCategory),isNaN(ua)||(ra=b.getCoordinate(ua-x),qa.expand&&(ra+=b.cellWidth/2),L=new b.axisItemRenderer(this,ra,"",!0,NaN,NaN,qa),b.pushAxisItem(L,wa))),qa.category&&(va=e.getCategoryIndexByValue(qa.category),isNaN(va)||(sa=b.getCoordinate(va-x),qa.expand&&(sa-=b.cellWidth/2),ta=(ra-sa)/2,L=new b.axisItemRenderer(this,sa,qa.label,!0,NaN,ta,qa),b.pushAxisItem(L,wa)));var xa=e.dataDateFormat;if(qa.toDate&&(!xa||qa.toDate instanceof Date||(qa.toDate=qa.toDate.toString()+" |"),qa.toDate=a.getDate(qa.toDate,xa),b.equalSpacing?(ua=e.getClosestIndex(b.data,"time",qa.toDate.getTime(),!1,0,b.data.length-1),isNaN(ua)||(ra=b.getCoordinate(ua-x))):ra=(qa.toDate.getTime()-b.startTime)*b.stepWidth,L=new b.axisItemRenderer(this,ra,"",!0,NaN,NaN,qa),b.pushAxisItem(L,wa)),qa.date&&(!xa||qa.date instanceof Date||(qa.date=qa.date.toString()+" |"),qa.date=a.getDate(qa.date,xa),b.equalSpacing?(va=e.getClosestIndex(b.data,"time",qa.date.getTime(),!1,0,b.data.length-1),isNaN(va)||(sa=b.getCoordinate(va-x))):sa=(qa.date.getTime()-b.startTime)*b.stepWidth,ta=(ra-sa)/2,h=!0,qa.toDate&&(h=!1),L="H"==b.orientation?new b.axisItemRenderer(this,sa,qa.label,h,2*ta,NaN,qa):new b.axisItemRenderer(this,sa,qa.label,!1,NaN,ta,qa),b.pushAxisItem(L,wa)),ra>0||sa>0){var ya=!1;if(b.rotate?(ra<b.height||sa<b.height)&&(ya=!0):(ra<b.width||sa<b.width)&&(ya=!0),ya){var za=new b.guideFillRenderer(this,sa,ra,qa),Aa=za.graphics();b.pushAxisItem(za,wa),qa.graphics=Aa,Aa.index=d,qa.balloonText&&b.addEventListeners(Aa,qa)}}}var Ba=e.chartCursor;Ba&&(F?Ba.fixHeight(b.cellWidth):(Ba.fixWidth(b.cellWidth),Ba.fullWidth&&b.balloon&&(b.balloon.minWidth=b.cellWidth))),b.previousHeight=Da}b.axisCreated=!0,b.set.translate(b.x,b.y),b.labelsSet.translate(b.x,b.y),b.labelsSet.show(),b.positionTitle();var Ca=b.axisLine.set;Ca&&Ca.toFront();var Da=b.getBBox().height;Da-b.previousHeight>2&&b.autoWrap&&!b.parseDates&&(b.chart.marginsUpdated=!1,b.axisCreated=!1)},xToIndex:function(b){var c,d=this,e=d.data,f=d.chart,g=f.rotate,h=d.stepWidth;if(d.parseDates&&!d.equalSpacing){var i=d.startTime+Math.round(b/h)-d.minDuration()/2;c=f.getClosestIndex(e,"time",i,!1,d.start,d.end+1)}else if(d.widthField)for(var j=1/0,k=d.start;k<=d.end;k++){var l=d.data[k];if(l){var m=Math.abs(l.x[d.id]-b);j>m&&(j=m,c=k)}}else d.startOnAxis||(b-=h/2),c=d.start+Math.round(b/h);c=a.fitToBounds(c,0,e.length-1);var n;return e[c]&&(n=e[c].x[d.id]),g?(n>d.height+1&&c--,0>n&&c++):(n>d.width+1&&c--,0>n&&c++),c=a.fitToBounds(c,0,e.length-1)},dateToCoordinate:function(a){var b=this;if(b.parseDates&&!b.equalSpacing)return(a.getTime()-b.startTime)*b.stepWidth;if(b.parseDates&&b.equalSpacing){var c=b.chart.getClosestIndex(b.data,"time",a.getTime(),!1,0,b.data.length-1);return b.getCoordinate(c-b.start)}return NaN},categoryToCoordinate:function(a){var b=this;if(!b.chart)return NaN;if(b.parseDates)return b.dateToCoordinate(new Date(a));var c=b.chart.getCategoryIndexByValue(a);return isNaN(c)?void 0:b.getCoordinate(c-b.start)},coordinateToDate:function(a){var b=this;if(b.equalSpacing){var c=b.xToIndex(a);return new Date(b.data[c].time)}return new Date(b.startTime+a/b.stepWidth)},coordinateToValue:function(a){var b=this,c=b.xToIndex(a),d=b.data[c];return d?b.parseDates?d.time:d.category:void 0},getCoordinate:function(a){var b=this,c=a*b.stepWidth;return b.startOnAxis||(c+=b.stepWidth/2),Math.round(c)},formatValue:function(b,c){var d=this;return c||(c=d.currentDateFormat),d.parseDates&&(b=a.formatDate(new Date(b),c,d.chart)),b},showBalloonAt:function(a,b){var c=this;return void 0===b&&(b=c.parseDates?c.dateToCoordinate(new Date(a)):c.categoryToCoordinate(a)),c.adjustBalloonCoordinate(b)},formatBalloonText:function(b,c,d){var e=this,f="",g="",h=e.chart,i=e.data[c];if(i)if(e.parseDates){f=a.formatDate(i.category,d,h);var j=a.changeDate(new Date(i.category),e.minPeriod,1);g=a.formatDate(j,d,h),-1!=f.indexOf("fff")&&(f=a.formatMilliseconds(f,i.category),g=a.formatMilliseconds(g,j))}else{var k;e.data[c+1]&&(k=e.data[c+1]),f=a.fixNewLines(i.category),k&&(g=a.fixNewLines(k.category))}var l=b.replace(/\[\[category\]\]/g,String(f));return l=l.replace(/\[\[toCategory\]\]/g,String(g))},adjustBalloonCoordinate:function(a,b){var c=this,d=c.xToIndex(a),e=c.chart,f=e.chartCursor;if(c.stickBalloonToCategory){var g=c.data[d];g&&(a=g.x[c.id]),c.stickBalloonToStart&&(a-=c.cellWidth/2);var h=0;if(f){var i=f.limitToGraph;if(i){var j=i.valueAxis.id;i.hidden||(h=g.axes[j].graphs[i.id].y)}c.rotate?("left"==c.position?(i&&(h-=f.width),h>0&&(h=0)):0>h&&(h=0),f.fixHLine(a,h)):("top"==c.position?(i&&(h-=f.height),h>0&&(h=0)):0>h&&(h=0),f.fixVLine(a,h))}}return f&&!b&&(f.setIndex(d),c.parseDates&&f.setTimestamp(c.coordinateToDate(a).getTime())),a}})}();